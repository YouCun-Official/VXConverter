<!--pages/tools/qrcode/index.wxml-->
<view class="container">
  <!-- 输入区域 -->
  <view class="input-section">
    <view class="section-title">
      <text class="title-text">输入内容</text>
    </view>
    <view class="input-card">
      <textarea
        class="text-input"
        placeholder="请输入网址或文本内容&#10;例如：https://weixin.qq.com"
        placeholder-style="color: #999;"
        maxlength="500"
        value="{{inputText}}"
        bindinput="onInput"
        auto-height
      />
      <view class="input-footer">
        <text class="char-count">{{inputText.length}}/500</text>
      </view>
    </view>
  </view>

  <!-- 二维码显示区域 -->
  <view class="qrcode-section">
    <view class="section-title">
      <text class="title-text">二维码预览</text>
    </view>
    <view class="qrcode-card">
      <canvas
        type="2d"
        id="qrcode-canvas"
        class="qrcode-canvas"
        style="width: {{canvasSize}}px; height: {{canvasSize}}px;"
      ></canvas>
      <view class="qrcode-placeholder" wx:if="{{!qrcodeGenerated}}">
        <text class="emoji-icon">🔳</text>
        <text class="placeholder-text">点击下方按钮生成二维码</text>
      </view>
    </view>
  </view>

  <!-- 按钮区域 -->
  <view class="button-section">
    <button class="generate-btn" bindtap="generateQRCode">
      <text class="btn-text">生成二维码</text>
    </button>
    <button class="save-btn" bindtap="saveToAlbum" disabled="{{!qrcodeGenerated}}">
      <text class="btn-text">保存到相册</text>
    </button>
  </view>

  <!-- 使用提示 -->
  <view class="tips-section">
    <view class="tips-title">
      <text class="tips-icon">💡</text>
      <text class="tips-title-text">使用提示</text>
    </view>
    <view class="tips-content">
      <text class="tips-item">• 支持网址、文本、名片等多种内容</text>
      <text class="tips-item">• 最多支持500个字符</text>
      <text class="tips-item">• 生成后可直接保存到相册</text>
      <text class="tips-item">• 建议使用https://开头的完整网址</text>
    </view>
  </view>
</view>
